<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원가입 테스트</title>
</head>
<body>
<h1>회원가입 테스트 폼</h1>
<form id="signUpForm">
    <label for="username">아이디:</label>
    <input type="text" id="username" name="username" required><br><br>

    <label for="name">이름:</label>
    <input type="text" id="name" name="name" required><br><br>

    <label for="phoneNumber">전화번호:</label>
    <input type="text" id="phoneNumber" name="phoneNumber" required><br><br>

    <label for="birthDate">생년월일:</label>
    <input type="date" id="birthDate" name="birthDate" required><br><br>

    <label for="gender">성별:</label>
    <select id="gender" name="gender">
        <option value="M">남성</option>
        <option value="F">여성</option>
    </select><br><br>

    <label for="zoneCode">우편번호:</label>
    <input type="number" id="zoneCode" name="zoneCode" required><br><br>

    <label for="address">주소:</label>
    <input type="text" id="address" name="address" required><br><br>

    <label for="detailAddress">상세주소:</label>
    <input type="text" id="detailAddress" name="detailAddress" required><br><br>

    <label for="loginType">로그인 타입:</label>
    <input type="text" id="loginType" name="loginType" required><br><br>

    <label for="password">비밀번호:</label>
    <input type="password" id="password" name="password" required><br><br>

    <button type="submit">회원가입</button>
</form>

<script>
    document.getElementById('signUpForm').addEventListener('submit', function(e) {
        e.preventDefault(); // 폼의 기본 제출 동작을 막음

        // 폼 데이터를 JSON 객체로 변환
        const formData = {
            username: document.getElementById('username').value,
            name: document.getElementById('name').value,
            phoneNumber: document.getElementById('phoneNumber').value,
            birthDate: document.getElementById('birthDate').value,
            gender: document.getElementById('gender').value,
            zoneCode: document.getElementById('zoneCode').value,
            address: document.getElementById('address').value,
            detailAddress: document.getElementById('detailAddress').value,
            loginType: document.getElementById('loginType').value,
            password: document.getElementById('password').value
        };

        // fetch를 사용하여 POST 요청 보내기
        fetch('http://43.202.68.231:8081/api/member/signup/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(formData) // JSON 형식으로 데이터 전송
        })
            .then(response => response.json())
            .then(data => {
                console.log('회원가입 성공:', data);
                alert('회원가입 성공');
            })
            .catch(error => {
                console.error('회원가입 실패:', error);
                alert('회원가입 실패');
            });
    });
</script>
</body>
</html>